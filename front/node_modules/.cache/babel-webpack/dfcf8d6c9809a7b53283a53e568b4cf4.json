{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../components/question-card/question-card.component\";\nimport * as i5 from \"../../components/answer-form/answer-form.component\";\nimport * as i6 from \"../../components/answer-card/answer-card.component\";\n\nfunction QuestionComponent_div_0_answer_card_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"answer-card\", 10);\n  }\n\n  if (rf & 2) {\n    const answer_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"answer\", answer_r3.answer);\n  }\n}\n\nfunction QuestionComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelementStart(1, \"div\", 2);\n    i0.ɵɵelementStart(2, \"div\", 3);\n    i0.ɵɵelement(3, \"question-card\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 5);\n    i0.ɵɵelementStart(5, \"div\", 3);\n    i0.ɵɵelement(6, \"hr\");\n    i0.ɵɵelementStart(7, \"h2\", 6);\n    i0.ɵɵtext(8, \"Quer responder essa pergunta?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 5);\n    i0.ɵɵelementStart(10, \"div\", 3);\n    i0.ɵɵelementStart(11, \"answer-form\", 7);\n    i0.ɵɵlistener(\"send\", function QuestionComponent_div_0_Template_answer_form_send_11_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.saveAnswer($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 5);\n    i0.ɵɵelementStart(13, \"div\", 3);\n    i0.ɵɵelement(14, \"hr\");\n    i0.ɵɵelementStart(15, \"h2\", 6);\n    i0.ɵɵtext(16, \"Respostas\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 2);\n    i0.ɵɵelementStart(18, \"div\", 8);\n    i0.ɵɵtemplate(19, QuestionComponent_div_0_answer_card_19_Template, 1, 1, \"answer-card\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const question_r1 = ctx.ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"creationDate\", question_r1.createdAt);\n    i0.ɵɵpropertyInterpolate(\"accessLink\", question_r1.accessLink);\n    i0.ɵɵproperty(\"title\", question_r1.title)(\"content\", question_r1.body)(\"showLink\", false)(\"showGoBackLink\", true);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngForOf\", question_r1.Answers);\n  }\n}\n\nexport class QuestionComponent {\n  constructor(apiService, route) {\n    this.apiService = apiService;\n    this.route = route;\n  }\n\n  ngOnInit() {\n    this.getQuestion();\n  }\n\n  getQuestion() {\n    this.questionId = this.route.snapshot.paramMap.get('id');\n    this.question$ = this.apiService.getQuestionById(this.questionId).pipe(map(question => {\n      var _a;\n\n      return Object.assign(Object.assign({}, question), {\n        Answers: (_a = question.Answers) === null || _a === void 0 ? void 0 : _a.reverse()\n      });\n    }));\n  }\n\n  saveAnswer(event) {\n    this.apiService.saveNewAnswer(this.questionId, {\n      answer: event\n    }).subscribe(() => {\n      alert('Sua resposta foi salva!');\n      this.getQuestion();\n    });\n  }\n\n}\n\nQuestionComponent.ɵfac = function QuestionComponent_Factory(t) {\n  return new (t || QuestionComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nQuestionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: QuestionComponent,\n  selectors: [[\"app-question\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[\"class\", \"container py-2\", 4, \"ngIf\"], [1, \"container\", \"py-2\"], [1, \"row\"], [1, \"col-12\"], [3, \"title\", \"content\", \"creationDate\", \"accessLink\", \"showLink\", \"showGoBackLink\"], [1, \"row\", \"mt-2\"], [1, \"fw-normal\"], [3, \"send\"], [1, \"col-12\", \"d-flex\", \"flex-column\"], [\"class\", \"mt-4\", 3, \"answer\", 4, \"ngFor\", \"ngForOf\"], [1, \"mt-4\", 3, \"answer\"]],\n  template: function QuestionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, QuestionComponent_div_0_Template, 20, 7, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.question$));\n    }\n  },\n  directives: [i3.NgIf, i4.QuestionCardComponent, i5.AnswerFormComponent, i3.NgForOf, i6.AnswerCardComponent],\n  pipes: [i3.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJxdWVzdGlvbi5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"sources":["C:\\Users\\flavi\\Documents\\Projeto\\projeto-final-frontend-soulcode-main\\src\\app\\pages\\question\\question.component.ts","C:\\Users\\flavi\\Documents\\Projeto\\projeto-final-frontend-soulcode-main\\src\\app\\pages\\question\\question.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Question } from 'src/app/models/question';\nimport { ApiService } from 'src/app/services/api.service';\n\n@Component({\n  selector: 'app-question',\n  templateUrl: './question.component.html',\n  styleUrls: ['./question.component.css']\n})\nexport class QuestionComponent implements OnInit {\n\n  question$!: Observable<Question>\n  questionId: any\n\n  constructor(\n    private apiService: ApiService,\n    private route: ActivatedRoute\n  ) { }\n\n  ngOnInit(): void {\n    this.getQuestion()\n  }\n\n  getQuestion() {\n    this.questionId = this.route.snapshot.paramMap.get('id')\n    this.question$ = this.apiService.getQuestionById(this.questionId)\n    .pipe(\n      map(question => {\n        return { ...question, Answers: question.Answers?.reverse() }\n      })\n    )\n  }\n\n  saveAnswer(event: string) {\n    this.apiService.saveNewAnswer(this.questionId, { answer: event }).subscribe(() => {\n      alert('Sua resposta foi salva!')\n      this.getQuestion()\n    })\n  }\n}\n","<div class=\"container py-2\" *ngIf=\"question$ | async as question\">\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <question-card\n        [title]=\"question.title\"\n        [content]=\"question.body\"\n        creationDate=\"{{question.createdAt}}\"\n        accessLink=\"{{question.accessLink}}\"\n        [showLink]=\"false\" \n        [showGoBackLink]=\"true\"\n      ></question-card>\n    </div>\n  </div>\n\n  <div class=\"row mt-2\">\n    <div class=\"col-12\">\n      <hr>\n      <h2 class=\"fw-normal\">Quer responder essa pergunta?</h2>\n    </div>\n  </div>\n\n  <div class=\"row mt-2\">\n    <div class=\"col-12\">\n      <answer-form (send)=\"saveAnswer($event)\"></answer-form>\n    </div>\n  </div>\n\n  <div class=\"row mt-2\">\n    <div class=\"col-12\">\n      <hr>\n      <h2 class=\"fw-normal\">Respostas</h2>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-12 d-flex flex-column\">\n      <answer-card\n        *ngFor=\"let answer of question.Answers\"\n        class=\"mt-4\"\n        [answer]=\"answer.answer\"\n      ></answer-card>\n    </div>\n  </div>\n</div>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}